!function(){"use strict";function t(t){function a(t){E=!0,k=(t.pageX-C)*S,L=(t.pageY-T)*S,X.beginPath()}function r(t){var e,a;E&&(e=(t.pageX-C)*S,a=(t.pageY-T)*S,g(k,L,e,a),k=e,L=a)}function d(){E&&(E=!1,X.closePath())}function l(t){1===t.touches.length&&(k=(t.touches[0].pageX-C)*S,L=(t.touches[0].pageY-T)*S,X.beginPath())}function o(t){var e,a;e=(t.touches[0].pageX-C)*S,a=(t.touches[0].pageY-T)*S,e===k&&a===L||(g(k,L,e,a),k=e,L=a)}function c(t){0===t.touches.length&&X.closePath()}function s(){b=b+1<e.length?b+1:0,A.style.width=3*e[b]+"px",A.style.height=3*e[b]+"px",h(),f()}function _(){m=!m,i(),f()}function i(){m?(P.classList.remove("thr0w_draw_canvas--closed"),z.classList.remove("thr0w_draw_palatte--closed"),F.classList.remove("thr0w_draw_palatte__thumb--closed"),F.classList.add("thr0w_draw_palatte__thumb--open")):(p(),P.classList.add("thr0w_draw_canvas--closed"),z.classList.add("thr0w_draw_palatte--closed"),F.classList.remove("thr0w_draw_palatte__thumb--open"),F.classList.add("thr0w_draw_palatte__thumb--closed"))}function n(){for(y=this.style.backgroundColor,Y=0;Y<H.length;Y++)H[Y].classList.remove("thr0w_draw_palatte__color_picker--selected");this.classList.add("thr0w_draw_palatte__color_picker--selected"),w(),f()}function w(){X.strokeStyle=y}function h(){X.lineWidth=e[b]}function p(){b=0;var t=z.querySelector(".thr0w_draw_palatte__color_picker--default");for(y=t.style.backgroundColor,P.width=P.width,Y=0;Y<H.length;Y++)H[Y].classList.remove("thr0w_draw_palatte__color_picker--selected");t.classList.add("thr0w_draw_palatte__color_picker--selected"),A.style.width=3*e[b]+"px",A.style.height=3*e[b]+"px",w(),h()}function u(){return{open:m,color:y,linewidthIndex:b}}function v(t){t.open!==m&&(m=!m,i()),y=t.color,w(),b=t.linewidthIndex,h()}function f(){I.update(),I.idle()}function g(t,e,a,r){function d(){X.moveTo(t,e),X.lineTo(a,r),X.stroke()}window.requestAnimationFrame(d)}if(!t||"object"!=typeof t)throw 400;var k,L,m=!1,y=null,b=null,E=!1,S=t.getRowScale(),x=t.getFrame(),q=t.getContent(),C=x.offsetLeft+q.offsetLeft,T=x.offsetTop+q.offsetTop,z=document.createElement("div"),P=document.createElement("canvas"),X=P.getContext("2d");z.classList.add("thr0w_draw_palatte"),z.classList.add("thr0w_draw_palatte--closed"),z.innerHTML=['<div class="thr0w_draw_palatte__color_picker--default thr0w_draw_palatte__color_picker" style="background: black;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: white;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: red;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: orange;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: yellow;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: green;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: blue;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: purple;"></div>','<div class="thr0w_draw_palatte__size">','<div class="thr0w_draw_palatte__size__dot">',"</div>","</div>",'<div class="thr0w_draw_palatte__thumb thr0w_draw_palatte__thumb--closed"></div>'].join("\n"),q.appendChild(z);var Y,j=z.querySelector(".thr0w_draw_palatte__size"),A=z.querySelector(".thr0w_draw_palatte__size__dot"),F=z.querySelector(".thr0w_draw_palatte__thumb"),H=z.querySelectorAll(".thr0w_draw_palatte__color_picker");for(P.classList.add("thr0w_draw_canvas"),P.classList.add("thr0w_draw_canvas--closed"),P.width=t.getWidth(),P.height=t.getHeight(),P.addEventListener("mousedown",a),P.addEventListener("mousemove",r),P.addEventListener("mouseup",d),P.addEventListener("mouseleave",d),P.addEventListener("touchstart",l),P.addEventListener("touchmove",o),P.addEventListener("touchend",c),P.addEventListener("touchcancel",c),q.appendChild(P),j.addEventListener("click",s),F.addEventListener("click",_),Y=0;Y<H.length;Y++)H[Y].addEventListener("click",n);p();var I=new window.thr0w.Sync(t,"thr0w_draw_"+q.id,u,v)}if(void 0===window.thr0w)throw 400;var e=[1,3,5,10],a={};a.load=t,window.thr0w.draw=a}();