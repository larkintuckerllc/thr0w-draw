!function(){"use strict";function t(t){function e(t){L=!0,v=(t.pageX-E)*m,f=(t.pageY-S)*m,q.beginPath()}function a(t){var e,a;L&&(e=(t.pageX-E)*m,a=(t.pageY-S)*m,u(v,f,e,a),v=e,f=a)}function r(){L&&(L=!1,q.closePath())}function o(t){1===t.touches.length&&(v=(t.touches[0].pageX-E)*m,f=(t.touches[0].pageY-S)*m,q.beginPath())}function d(t){var e,a;e=(t.touches[0].pageX-E)*m,a=(t.touches[0].pageY-S)*m,e===v&&a===f||(u(v,f,e,a),v=e,f=a)}function c(t){0===t.touches.length&&q.closePath()}function s(){g=!g,p(),l()}function l(){g?(T.classList.remove("thr0w_draw_canvas--closed"),C.classList.remove("thr0w_draw_palatte--closed"),X.classList.remove("thr0w_draw_palatte__thumb--closed"),X.classList.add("thr0w_draw_palatte__thumb--open")):(i(),T.classList.add("thr0w_draw_canvas--closed"),C.classList.add("thr0w_draw_palatte--closed"),X.classList.remove("thr0w_draw_palatte__thumb--open"),X.classList.add("thr0w_draw_palatte__thumb--closed"))}function _(){for(k=this.style.backgroundColor,P=0;P<Y.length;P++)Y[P].classList.remove("thr0w_draw_palatte__color_picker--selected");this.classList.add("thr0w_draw_palatte__color_picker--selected"),p(),n()}function n(){q.strokeStyle=k}function i(){var t=C.querySelector(".thr0w_draw_palatte__color_picker--default");for(k=t.style.backgroundColor,T.width=T.width,P=0;P<Y.length;P++)Y[P].classList.remove("thr0w_draw_palatte__color_picker--selected");t.classList.add("thr0w_draw_palatte__color_picker--selected"),q.strokeStyle=k}function w(){return{open:g,color:k}}function h(t){t.open!==g&&(g=!g,l()),k=t.color,n()}function p(){j.update(),j.idle()}function u(t,e,a,r){function o(){q.moveTo(t,e),q.lineTo(a,r),q.stroke()}window.requestAnimationFrame(o)}if(!t||"object"!=typeof t)throw 400;var v,f,g=!1,k=null,L=!1,m=t.getRowScale(),b=t.getFrame(),y=t.getContent(),E=b.offsetLeft+y.offsetLeft,S=b.offsetTop+y.offsetTop,C=document.createElement("div"),T=document.createElement("canvas"),q=T.getContext("2d");C.classList.add("thr0w_draw_palatte"),C.classList.add("thr0w_draw_palatte--closed"),C.innerHTML=['<div class="thr0w_draw_palatte__color_picker--default thr0w_draw_palatte__color_picker" style="background: black;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: white;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: red;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: orange;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: yellow;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: green;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: blue;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: purple;"></div>','<div class="thr0w_draw_palatte__thumb thr0w_draw_palatte__thumb--closed"></div>'].join("\n"),y.appendChild(C);var P,X=C.querySelector(".thr0w_draw_palatte__thumb"),Y=C.querySelectorAll(".thr0w_draw_palatte__color_picker");for(T.classList.add("thr0w_draw_canvas"),T.classList.add("thr0w_draw_canvas--closed"),T.width=t.getWidth(),T.height=t.getHeight(),T.addEventListener("mousedown",e),T.addEventListener("mousemove",a),T.addEventListener("mouseup",r),T.addEventListener("mouseleave",r),T.addEventListener("touchstart",o),T.addEventListener("touchmove",d),T.addEventListener("touchend",c),T.addEventListener("touchcancel",c),y.appendChild(T),X.addEventListener("click",s),P=0;P<Y.length;P++)Y[P].addEventListener("click",_);i();var j=new window.thr0w.Sync(t,"thr0w_draw_"+y.id,w,h)}if(void 0===window.thr0w)throw 400;var e={};e.load=t,window.thr0w.draw=e}();