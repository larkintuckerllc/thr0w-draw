!function(){"use strict";function t(t){function a(t){b=!0,g=(t.pageX-q)*E,k=(t.pageY-C)*E}function r(t){var e,a;b&&(e=(t.pageX-q)*E,a=(t.pageY-C)*E,f(g,k,e,a),g=e,k=a)}function d(){b&&(b=!1)}function l(t){1===t.touches.length&&(g=(t.touches[0].pageX-q)*E,k=(t.touches[0].pageY-C)*E)}function o(t){var e,a;e=(t.touches[0].pageX-q)*E,a=(t.touches[0].pageY-C)*E,e===g&&a===k||(f(g,k,e,a),g=e,k=a)}function _(){y=y+1<e.length?y+1:0,I.style.width=3*e[y]+"px",I.style.height=3*e[y]+"px",w(),v()}function s(){L=!L,c(),v()}function c(){L?(T.classList.remove("thr0w_draw_canvas--closed"),P.classList.remove("thr0w_draw_palatte--closed"),j.classList.remove("thr0w_draw_palatte__thumb--closed"),j.classList.add("thr0w_draw_palatte__thumb--open")):(h(),T.classList.add("thr0w_draw_canvas--closed"),P.classList.add("thr0w_draw_palatte--closed"),j.classList.remove("thr0w_draw_palatte__thumb--open"),j.classList.add("thr0w_draw_palatte__thumb--closed"))}function i(){for(m=this.style.backgroundColor,X=0;X<A.length;X++)A[X].classList.remove("thr0w_draw_palatte__color_picker--selected");this.classList.add("thr0w_draw_palatte__color_picker--selected"),n(),v()}function n(){z.strokeStyle=m,z.fillStyle=m}function w(){z.lineWidth=e[y]}function h(){y=0;var t=P.querySelector(".thr0w_draw_palatte__color_picker--default");for(m=t.style.backgroundColor,T.width=T.width,X=0;X<A.length;X++)A[X].classList.remove("thr0w_draw_palatte__color_picker--selected");t.classList.add("thr0w_draw_palatte__color_picker--selected"),I.style.width=3*e[y]+"px",I.style.height=3*e[y]+"px",n(),w()}function p(){return{open:L,color:m,linewidthIndex:y}}function u(t){t.open!==L&&(L=!L,c()),m=t.color,n(),y=t.linewidthIndex,w()}function v(){F.update(),F.idle()}function f(t,a,r,d){function l(){z.beginPath(),z.arc(t,a,e[y]/2,0,2*Math.PI),z.closePath(),z.fill(),z.beginPath(),z.moveTo(t,a),z.lineTo(r,d),z.stroke(),z.closePath()}window.requestAnimationFrame(l)}if(!t||"object"!=typeof t)throw 400;var g,k,L=!1,m=null,y=null,b=!1,E=t.getRowScale(),S=t.getFrame(),x=t.getContent(),q=S.offsetLeft+x.offsetLeft,C=S.offsetTop+x.offsetTop,P=document.createElement("div"),T=document.createElement("canvas"),z=T.getContext("2d");P.classList.add("thr0w_draw_palatte"),P.classList.add("thr0w_draw_palatte--closed"),P.innerHTML=['<div class="thr0w_draw_palatte__color_picker--default thr0w_draw_palatte__color_picker" style="background: black;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: white;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: red;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: orange;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: yellow;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: green;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: blue;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: purple;"></div>','<div class="thr0w_draw_palatte__size">','<div class="thr0w_draw_palatte__size__dot">',"</div>","</div>",'<div class="thr0w_draw_palatte__thumb thr0w_draw_palatte__thumb--closed"></div>'].join("\n"),x.appendChild(P);var X,Y=P.querySelector(".thr0w_draw_palatte__size"),I=P.querySelector(".thr0w_draw_palatte__size__dot"),j=P.querySelector(".thr0w_draw_palatte__thumb"),A=P.querySelectorAll(".thr0w_draw_palatte__color_picker");for(T.classList.add("thr0w_draw_canvas"),T.classList.add("thr0w_draw_canvas--closed"),T.width=t.getWidth(),T.height=t.getHeight(),T.addEventListener("mousedown",a),T.addEventListener("mousemove",r),T.addEventListener("mouseup",d),T.addEventListener("mouseleave",d),T.addEventListener("touchstart",l),T.addEventListener("touchmove",o),x.appendChild(T),Y.addEventListener("click",_),j.addEventListener("click",s),X=0;X<A.length;X++)A[X].addEventListener("click",i);h();var F=new window.thr0w.Sync(t,"thr0w_draw_"+x.id,p,u)}if(void 0===window.thr0w)throw 400;var e=[1,3,5,10],a={};a.load=t,window.thr0w.draw=a}();