!function(){"use strict";function t(t){function e(t){L=!0,v=t.pageX-y,f=t.pageY-E,T.beginPath()}function a(t){var e,a;L&&(e=t.pageX-y,a=t.pageY-E,u(v,f,e,a),v=e,f=a)}function r(){L&&(L=!1,T.closePath())}function o(t){1===t.touches.length&&(v=t.touches[0].pageX-y,f=t.touches[0].pageY-E,T.beginPath())}function d(t){var e,a;e=t.touches[0].pageX-y,a=t.touches[0].pageY-E,e===v&&a===f||(u(v,f,e,a),v=e,f=a)}function c(t){0===t.touches.length&&T.closePath()}function s(){g=!g,p(),l()}function l(){g?(S.classList.remove("thr0w_draw_canvas--closed"),C.classList.remove("thr0w_draw_palatte--closed"),P.classList.remove("thr0w_draw_palatte__thumb--closed"),P.classList.add("thr0w_draw_palatte__thumb--open")):(i(),S.classList.add("thr0w_draw_canvas--closed"),C.classList.add("thr0w_draw_palatte--closed"),P.classList.remove("thr0w_draw_palatte__thumb--open"),P.classList.add("thr0w_draw_palatte__thumb--closed"))}function _(){for(k=this.style.backgroundColor,q=0;q<X.length;q++)X[q].classList.remove("thr0w_draw_palatte__color_picker--selected");this.classList.add("thr0w_draw_palatte__color_picker--selected"),p(),n()}function n(){T.strokeStyle=k}function i(){var t=C.querySelector(".thr0w_draw_palatte__color_picker--default");for(k=t.style.backgroundColor,S.width=S.width,q=0;q<X.length;q++)X[q].classList.remove("thr0w_draw_palatte__color_picker--selected");t.classList.add("thr0w_draw_palatte__color_picker--selected"),T.strokeStyle=k}function w(){return{open:g,color:k}}function h(t){t.open!==g&&(g=!g,l()),k=t.color,n()}function p(){Y.update(),Y.idle()}function u(t,e,a,r){function o(){T.moveTo(t,e),T.lineTo(a,r),T.stroke()}window.requestAnimationFrame(o)}if(!t||"object"!=typeof t)throw 400;var v,f,g=!1,k=null,L=!1,m=t.getFrame(),b=t.getContent(),y=m.offsetLeft+b.offsetLeft,E=m.offsetTop+b.offsetTop,C=document.createElement("div"),S=document.createElement("canvas"),T=S.getContext("2d");C.classList.add("thr0w_draw_palatte"),C.classList.add("thr0w_draw_palatte--closed"),C.innerHTML=['<div class="thr0w_draw_palatte__color_picker--default thr0w_draw_palatte__color_picker" style="background: black;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: white;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: red;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: orange;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: yellow;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: green;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: blue;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: purple;"></div>','<div class="thr0w_draw_palatte__thumb thr0w_draw_palatte__thumb--closed"></div>'].join("\n"),b.appendChild(C);var q,P=C.querySelector(".thr0w_draw_palatte__thumb"),X=C.querySelectorAll(".thr0w_draw_palatte__color_picker");for(S.classList.add("thr0w_draw_canvas"),S.classList.add("thr0w_draw_canvas--closed"),S.width=t.getWidth(),S.height=t.getHeight(),S.addEventListener("mousedown",e),S.addEventListener("mousemove",a),S.addEventListener("mouseup",r),S.addEventListener("mouseleave",r),S.addEventListener("touchstart",o),S.addEventListener("touchmove",d),S.addEventListener("touchend",c),S.addEventListener("touchcancel",c),b.appendChild(S),P.addEventListener("click",s),q=0;q<X.length;q++)X[q].addEventListener("click",_);i();var Y=new window.thr0w.Sync(t,"thr0w_draw_"+b.id,w,h)}if(void 0===window.thr0w)throw 400;var e={};e.load=t,window.thr0w.draw=e}();